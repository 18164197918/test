!function(t,e){"use strict";var i,n,o={getPath:function(){var t=document.scripts,e=t[t.length-1],i=e.src;if(!e.getAttribute("merge"))return i.substring(0,i.lastIndexOf("/")+1)}(),enter:function(t){13===t.keyCode&&t.preventDefault()},config:{},end:{},btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],type:["dialog","page","iframe","loading","tips"]},r={v:"2.0",ie6:!!t.ActiveXObject&&!t.XMLHttpRequest,index:0,path:o.getPath,config:function(t,e){var n=0;return t=t||{},r.cache=o.config=i.extend(o.config,t),r.path=o.config.path||r.path,"string"==typeof t.extend&&(t.extend=[t.extend]),r.use("skin/layer.css",t.extend&&t.extend.length>0?function i(){var o=t.extend;r.use(o[o[n]?n:n-1],n<o.length?(++n,i):e)}():e),this},use:function(t,e,n){var o=i("head")[0],a=(t=t.replace(/\s/g,""),/\.css$/.test(t)),s=document.createElement(a?"link":"script"),h="layui_layer_"+t.replace(/\.|\//g,"");return r.path?(a&&(s.rel="stylesheet"),s[a?"href":"src"]=/^http:\/\//.test(t)?t:r.path+t,s.id=h,i("#"+h)[0]||o.appendChild(s),function t(){(a?1989===parseInt(i("#"+h).css("width")):r[n||h])?function(){e&&e();try{a||o.removeChild(s)}catch(t){}}():setTimeout(t,100)}(),this):void 0},ready:function(t,e){var n="function"==typeof t;return n&&(e=t),r.config(i.extend(o.config,n?{}:{path:t}),e),this},alert:function(t,e,n){var o="function"==typeof e;return o&&(n=e),r.open(i.extend({content:t,yes:n},o?{}:e))},confirm:function(t,e,n,a){var s="function"==typeof e;return s&&(a=n,n=e),r.open(i.extend({content:t,btn:o.btn,yes:n,cancel:a},s?{}:e))},msg:function(t,e,n){var a="function"==typeof e,h=o.config.skin,l=(h?h+" "+h+"-msg":"")||"layui-layer-msg",d=s.anim.length-1;return a&&(n=e),r.open(i.extend({content:t,time:3e3,shade:!1,skin:l,title:!1,closeBtn:!1,btn:!1,end:n},a&&!o.config.skin?{skin:l+" layui-layer-hui",shift:d}:((-1===(e=e||{}).icon||void 0===e.icon&&!o.config.skin)&&(e.skin=l+" "+(e.skin||"layui-layer-hui")),e)))},load:function(t,e){return r.open(i.extend({type:3,icon:t||0,shade:.01},e))},tips:function(t,e,n){return r.open(i.extend({type:4,content:[t,e],closeBtn:!1,time:3e3,maxWidth:210},n))}},a=function(t){this.index=++r.index,this.config=i.extend({},this.config,o.config,t),this.creat()};a.pt=a.prototype;var s=["layui-layer",".layui-layer-title",".layui-layer-main",".layui-layer-dialog","layui-layer-iframe","layui-layer-content","layui-layer-btn","layui-layer-close"];s.anim=["layui-anim","layui-anim-01","layui-anim-02","layui-anim-03","layui-anim-04","layui-anim-05","layui-anim-06"],a.pt.config={type:0,shade:.3,fix:!0,move:s[1],title:"&#x4FE1;&#x606F;",offset:"auto",area:"auto",closeBtn:1,time:0,zIndex:19891014,maxWidth:360,shift:0,icon:-1,scrollbar:!0,tips:2},a.pt.vessel=function(t,e){var i,n=this.index,r=this.config,a=r.zIndex+n,h="object"==typeof r.title,l=r.maxmin&&(1===r.type||2===r.type),d=r.title?'<div class="layui-layer-title" style="'+(h?r.title[1]:"")+'">'+(h?r.title[0]:r.title)+"</div>":"";return r.zIndex=a,e([r.shade?'<div class="layui-layer-shade" id="layui-layer-shade'+n+'" times="'+n+'" style="z-index:'+(a-1)+"; background-color:"+(r.shade[1]||"#000")+"; opacity:"+(r.shade[0]||r.shade)+"; filter:alpha(opacity="+(100*r.shade[0]||100*r.shade)+');"></div>':"",'<div class="'+s[0]+" "+(s.anim[r.shift]||"")+" layui-layer-"+o.type[r.type]+(0!=r.type&&2!=r.type||r.shade?"":" layui-layer-border")+" "+(r.skin||"")+'" id="'+s[0]+n+'" type="'+o.type[r.type]+'" times="'+n+'" showtime="'+r.time+'" conType="'+(t?"object":"string")+'" style="z-index: '+a+"; width:"+r.area[0]+";height:"+r.area[1]+(r.fix?"":";position:absolute;")+'">'+(t&&2!=r.type?"":d)+'<div class="layui-layer-content'+(0==r.type&&-1!==r.icon?" layui-layer-padding":"")+(3==r.type?" layui-layer-loading"+r.icon:"")+'">'+(0==r.type&&-1!==r.icon?'<i class="layui-layer-ico layui-layer-ico'+r.icon+'"></i>':"")+(1==r.type&&t?"":r.content||"")+'</div><span class="layui-layer-setwin">'+(i=l?'<a class="layui-layer-min" href="javascript:;"><cite></cite></a><a class="layui-layer-ico layui-layer-max" href="javascript:;"></a>':"",r.closeBtn&&(i+='<a class="layui-layer-ico '+s[7]+" "+s[7]+(r.title?r.closeBtn:4==r.type?"1":"2")+'" href="javascript:;"></a>'),i)+"</span>"+(r.btn?function(){var t="";"string"==typeof r.btn&&(r.btn=[r.btn]);for(var e=0,i=r.btn.length;i>e;e++)t+='<a class="'+s[6]+e+'">'+r.btn[e]+"</a>";return'<div class="'+s[6]+'">'+t+"</div>"}():"")+"</div>"],d),this},a.pt.creat=function(){var t=this,e=t.config,a=t.index,h="object"==typeof(l=e.content);switch("string"==typeof e.area&&(e.area="auto"===e.area?["",""]:[e.area,""]),e.type){case 0:e.btn="btn"in e?e.btn:o.btn[0],r.closeAll("dialog");break;case 2:var l=e.content=h?e.content:[e.content||"http://sentsin.com?from=layer","auto"];e.content='<iframe scrolling="'+(e.content[1]||"auto")+'" allowtransparency="true" id="'+s[4]+a+'" name="'+s[4]+a+'" onload="this.className=\'\';" class="layui-layer-load" frameborder="0" src="'+e.content[0]+'"></iframe>';break;case 3:e.title=!1,e.closeBtn=!1,-1===e.icon&&e.icon,r.closeAll("loading");break;case 4:h||(e.content=[e.content,"body"]),e.follow=e.content[1],e.content=e.content[0]+'<i class="layui-layer-TipsG"></i>',e.title=!1,e.shade=!1,e.fix=!1,e.tips="object"==typeof e.tips?e.tips:[e.tips,!0],e.tipsMore||r.closeAll("tips")}t.vessel(h,function(n,o){i("body").append(n[0]),h?2==e.type||4==e.type?i("body").append(n[1]):l.parents("."+s[0])[0]||(l.show().addClass("layui-layer-wrap").wrap(n[1]),i("#"+s[0]+a).find("."+s[5]).before(o)):i("body").append(n[1]),t.layero=i("#"+s[0]+a),e.scrollbar||s.html.css("overflow","hidden").attr("layer-full",a)}).auto(a),2==e.type&&r.ie6&&t.layero.find("iframe").attr("src",l[0]),i(document).off("keydown",o.enter).on("keydown",o.enter),4==e.type?t.tips():t.offset(),e.fix&&n.on("resize",function(){t.offset(),(/^\d+%$/.test(e.area[0])||/^\d+%$/.test(e.area[1]))&&t.auto(a),4==e.type&&t.tips()}),e.time<=0||setTimeout(function(){r.close(t.index)},e.time),t.move().callback()},a.pt.auto=function(t){function e(t){(t=r.find(t)).height(a[1]-h-l-2*(0|parseFloat(t.css("padding"))))}var o=this.config,r=i("#"+s[0]+t);""===o.area[0]&&o.maxWidth>0&&(/MSIE 7/.test(navigator.userAgent)&&o.btn&&r.width(r.innerWidth()),r.outerWidth()>o.maxWidth&&r.width(o.maxWidth));var a=[r.innerWidth(),r.innerHeight()],h=r.find(s[1]).outerHeight()||0,l=r.find("."+s[6]).outerHeight()||0;switch(o.type){case 2:e("iframe");break;default:""===o.area[1]?o.fix&&a[1]>=n.height()&&(a[1]=n.height(),e("."+s[5])):e("."+s[5])}return this},a.pt.offset=function(){var t=this.config,e=this.layero,i=[e.outerWidth(),e.outerHeight()],o="object"==typeof t.offset;this.offsetTop=(n.height()-i[1])/2,this.offsetLeft=(n.width()-i[0])/2,o?(this.offsetTop=t.offset[0],this.offsetLeft=t.offset[1]||this.offsetLeft):"auto"!==t.offset&&(this.offsetTop=t.offset,"rb"===t.offset&&(this.offsetTop=n.height()-i[1],this.offsetLeft=n.width()-i[0])),t.fix||(this.offsetTop=/%$/.test(this.offsetTop)?n.height()*parseFloat(this.offsetTop)/100:parseFloat(this.offsetTop),this.offsetLeft=/%$/.test(this.offsetLeft)?n.width()*parseFloat(this.offsetLeft)/100:parseFloat(this.offsetLeft),this.offsetTop+=n.scrollTop(),this.offsetLeft+=n.scrollLeft()),e.css({top:this.offsetTop,left:this.offsetLeft})},a.pt.tips=function(){var t=this.config,e=this.layero,o=[e.outerWidth(),e.outerHeight()],r=i(t.follow);r[0]||(r=i("body"));var a={width:r.outerWidth(),height:r.outerHeight(),top:r.offset().top,left:r.offset().left},h=e.find(".layui-layer-TipsG"),l=t.tips[0];t.tips[1]||h.remove(),a.autoLeft=function(){a.left+o[0]-n.width()>0?(a.tipLeft=a.left+a.width-o[0],h.css({right:12,left:"auto"})):a.tipLeft=a.left},a.where=[function(){a.autoLeft(),a.tipTop=a.top-o[1]-10,h.removeClass("layui-layer-TipsB").addClass("layui-layer-TipsT").css("border-right-color",t.tips[1])},function(){a.tipLeft=a.left+a.width+10,a.tipTop=a.top,h.removeClass("layui-layer-TipsL").addClass("layui-layer-TipsR").css("border-bottom-color",t.tips[1])},function(){a.autoLeft(),a.tipTop=a.top+a.height+10,h.removeClass("layui-layer-TipsT").addClass("layui-layer-TipsB").css("border-right-color",t.tips[1])},function(){a.tipLeft=a.left-o[0]-10,a.tipTop=a.top,h.removeClass("layui-layer-TipsR").addClass("layui-layer-TipsL").css("border-bottom-color",t.tips[1])}],a.where[l-1](),1===l?a.top-(n.scrollTop()+o[1]+16)<0&&a.where[2]():2===l?n.width()-(a.left+a.width+o[0]+16)>0||a.where[3]():3===l?a.top-n.scrollTop()+a.height+o[1]+16-n.height()>0&&a.where[0]():4===l&&o[0]+16-a.left>0&&a.where[1](),e.find("."+s[5]).css({"background-color":t.tips[1],"padding-right":t.closeBtn?"30px":""}),e.css({left:a.tipLeft,top:a.tipTop})},a.pt.move=function(){var t=this.config,e={setY:0,moveLayer:function(){var t=e.layero,i=parseInt(t.css("margin-left")),n=parseInt(e.move.css("left"));0===i||(n-=i),"fixed"!==t.css("position")&&(n-=t.parent().offset().left,e.setY=0),t.css({left:n,top:parseInt(e.move.css("top"))-e.setY})}},o=this.layero.find(t.move);return t.move&&o.attr("move","ok"),o.css({cursor:t.move?"move":"auto"}),i(t.move).on("mousedown",function(o){if(o.preventDefault(),"ok"===i(this).attr("move")){e.ismove=!0,e.layero=i(this).parents("."+s[0]);var r=e.layero.offset().left,a=e.layero.offset().top,h=e.layero.outerWidth()-6,l=e.layero.outerHeight()-6;i("#layui-layer-moves")[0]||i("body").append('<div id="layui-layer-moves" class="layui-layer-moves" style="left:'+r+"px; top:"+a+"px; width:"+h+"px; height:"+l+'px; z-index:2147483584"></div>'),e.move=i("#layui-layer-moves"),t.moveType&&e.move.css({visibility:"hidden"}),e.moveX=o.pageX-e.move.position().left,e.moveY=o.pageY-e.move.position().top,"fixed"!==e.layero.css("position")||(e.setY=n.scrollTop())}}),i(document).mousemove(function(i){if(e.ismove){var o=i.pageX-e.moveX,r=i.pageY-e.moveY;if(i.preventDefault(),!t.moveOut){e.setY=n.scrollTop();var a=n.width()-e.move.outerWidth(),s=e.setY;0>o&&(o=0),o>a&&(o=a),s>r&&(r=s),r>n.height()-e.move.outerHeight()+e.setY&&(r=n.height()-e.move.outerHeight()+e.setY)}e.move.css({left:o,top:r}),t.moveType&&e.moveLayer(),o=r=a=s=null}}).mouseup(function(){try{e.ismove&&(e.moveLayer(),e.move.remove(),t.moveEnd&&t.moveEnd()),e.ismove=!1}catch(t){e.ismove=!1}}),this},a.pt.callback=function(){function t(){!1===(a.cancel&&a.cancel(e.index))||r.close(e.index)}var e=this,n=e.layero,a=e.config;e.openLayer(),a.success&&(2==a.type?n.find("iframe")[0].onload=function(){this.className="",a.success(n,e.index)}:a.success(n,e.index)),r.ie6&&e.IE6(n),n.find("."+s[6]).children("a").on("click",function(){var o=i(this).index();a["btn"+(o+1)]&&a["btn"+(o+1)](e.index,n),0===o?a.yes?a.yes(e.index,n):r.close(e.index):1===o?t():a["btn"+(o+1)]||r.close(e.index)}),n.find("."+s[7]).on("click",t),a.shadeClose&&i("#layui-layer-shade"+e.index).on("click",function(){r.close(e.index)}),n.find(".layui-layer-min").on("click",function(){r.min(e.index,a),a.min&&a.min(n)}),n.find(".layui-layer-max").on("click",function(){i(this).hasClass("layui-layer-maxmin")?(r.restore(e.index),a.restore&&a.restore(n)):(r.full(e.index,a),a.full&&a.full(n))}),a.end&&(o.end[e.index]=a.end)},o.reselect=function(){i.each(i("select"),function(t,e){var n=i(this);n.parents("."+s[0])[0]||1==n.attr("layer")&&i("."+s[0]).length<1&&n.removeAttr("layer").show(),n=null})},a.pt.IE6=function(t){function e(){t.css({top:r+(o.config.fix?n.scrollTop():0)})}var o=this,r=t.offset().top;e(),n.scroll(e),i("select").each(function(t,e){var n=i(this);n.parents("."+s[0])[0]||"none"===n.css("display")||n.attr({layer:"1"}).hide(),n=null})},a.pt.openLayer=function(){r.zIndex=this.config.zIndex,r.setTop=function(t){return r.zIndex=parseInt(t[0].style.zIndex),t.on("mousedown",function(){r.zIndex++,t.css("z-index",r.zIndex+1)}),r.zIndex}},o.record=function(t){var e=[t.outerWidth(),t.outerHeight(),t.position().top,t.position().left+parseFloat(t.css("margin-left"))];t.find(".layui-layer-max").addClass("layui-layer-maxmin"),t.attr({area:e})},o.rescollbar=function(t){s.html.attr("layer-full")==t&&(s.html[0].style.removeProperty?s.html[0].style.removeProperty("overflow"):s.html[0].style.removeAttribute("overflow"),s.html.removeAttr("layer-full"))},r.getChildFrame=function(t,e){return e=e||i("."+s[4]).attr("times"),i("#"+s[0]+e).find("iframe").contents().find(t)},r.getFrameIndex=function(t){return i("#"+t).parents("."+s[4]).attr("times")},r.iframeAuto=function(t){if(t){var e=r.getChildFrame("body",t).outerHeight(),n=i("#"+s[0]+t),o=n.find(s[1]).outerHeight()||0,a=n.find("."+s[6]).outerHeight()||0;n.css({height:e+o+a}),n.find("iframe").css({height:e})}},r.iframeSrc=function(t,e){i("#"+s[0]+t).find("iframe").attr("src",e)},r.style=function(t,e){var n=i("#"+s[0]+t),r=n.attr("type"),a=n.find(s[1]).outerHeight()||0,h=n.find("."+s[6]).outerHeight()||0;(r===o.type[1]||r===o.type[2])&&(n.css(e),r===o.type[2]&&n.find("iframe").css({height:parseFloat(e.height)-a-h}))},r.min=function(t,e){var n=i("#"+s[0]+t),a=n.find(s[1]).outerHeight()||0;o.record(n),r.style(t,{width:180,height:a,overflow:"hidden"}),n.find(".layui-layer-min").hide(),"page"===n.attr("type")&&n.find(s[4]).hide(),o.rescollbar(t)},r.restore=function(t){var e=i("#"+s[0]+t),n=e.attr("area").split(",");e.attr("type"),r.style(t,{width:parseFloat(n[0]),height:parseFloat(n[1]),top:parseFloat(n[2]),left:parseFloat(n[3]),overflow:"visible"}),e.find(".layui-layer-max").removeClass("layui-layer-maxmin"),e.find(".layui-layer-min").show(),"page"===e.attr("type")&&e.find(s[4]).show(),o.rescollbar(t)},r.full=function(t){var e,a=i("#"+s[0]+t);o.record(a),s.html.attr("layer-full")||s.html.css("overflow","hidden").attr("layer-full",t),clearTimeout(e),e=setTimeout(function(){var e="fixed"===a.css("position");r.style(t,{top:e?0:n.scrollTop(),left:e?0:n.scrollLeft(),width:n.width(),height:n.height()}),a.find(".layui-layer-min").hide()},100)},r.title=function(t,e){i("#"+s[0]+(e||r.index)).find(s[1]).html(t)},r.close=function(t){var e=i("#"+s[0]+t),n=e.attr("type");if(e[0]){if(n===o.type[1]&&"object"===e.attr("conType")){e.children(":not(."+s[5]+")").remove();for(var a=0;2>a;a++)e.find(".layui-layer-wrap").unwrap().hide()}else{if(n===o.type[2])try{var h=i("#"+s[4]+t)[0];h.contentWindow.document.write(""),h.contentWindow.close(),e.find("."+s[5])[0].removeChild(h)}catch(t){}e[0].innerHTML="",e.remove()}i("#layui-layer-moves, #layui-layer-shade"+t).remove(),r.ie6&&o.reselect(),o.rescollbar(t),i(document).off("keydown",o.enter),"function"==typeof o.end[t]&&o.end[t](),delete o.end[t]}},r.closeAll=function(t){i.each(i("."+s[0]),function(){var e=i(this),n=t?e.attr("type")===t:1;n&&r.close(e.attr("times")),n=null})},o.run=function(){i=jQuery,n=i(t),s.html=i("html"),r.open=function(t){return new a(t).index}},"function"==typeof define?define(function(){return o.run(),r}):(t.layer=r,o.run(),r.use("skin/layer.css"))}(window),function(){var t=!1,e=function(t){return t instanceof e?t:this instanceof e?void(this.EXIFwrapped=t):new e(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=e),exports.EXIF=e):this.EXIF=e;var i=e.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},o=e.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},r=e.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},a=e.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function s(t){return!!t.exifdata}function h(e,i){function n(n){var o=l(n),r=function(e){var i=new DataView(e);t&&console.log("Got file of length "+e.byteLength);if(255!=i.getUint8(0)||216!=i.getUint8(1))return t&&console.log("Not a valid JPEG"),!1;var n=2,o=e.byteLength;for(;n<o;){if(l=n,56===(h=i).getUint8(l)&&66===h.getUint8(l+1)&&73===h.getUint8(l+2)&&77===h.getUint8(l+3)&&4===h.getUint8(l+4)&&4===h.getUint8(l+5)){var r=i.getUint8(n+7);r%2!=0&&(r+=1),0===r&&(r=4);var a=n+8+r,s=i.getUint16(n+6+r);return c(e,a,s)}n++}var h,l}(n);e.exifdata=o||{},e.iptcdata=r||{},i&&i.call(e)}var o,r,a;if(e.src)if(/^data\:/i.test(e.src))n(function(t,e){e=e||t.match(/^data\:([^\;]+)\;base64,/im)[1]||"",t=t.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var i=atob(t),n=i.length,o=new ArrayBuffer(n),r=new Uint8Array(o),a=0;a<n;a++)r[a]=i.charCodeAt(a);return o}(e.src));else if(/^blob\:/i.test(e.src)){(h=new FileReader).onload=function(t){n(t.target.result)},o=e.src,r=function(t){h.readAsArrayBuffer(t)},(a=new XMLHttpRequest).open("GET",o,!0),a.responseType="blob",a.onload=function(t){200!=this.status&&0!==this.status||r(this.response)},a.send()}else{var s=new XMLHttpRequest;s.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";n(s.response),s=null},s.open("GET",e.src,!0),s.responseType="arraybuffer",s.send(null)}else if(window.FileReader&&(e instanceof window.Blob||e instanceof window.File)){var h;(h=new FileReader).onload=function(e){t&&console.log("Got file of length "+e.target.result.byteLength),n(e.target.result)},h.readAsArrayBuffer(e)}}function l(e){var i=new DataView(e);if(t&&console.log("Got file of length "+e.byteLength),255!=i.getUint8(0)||216!=i.getUint8(1))return t&&console.log("Not a valid JPEG"),!1;for(var n,o=2,r=e.byteLength;o<r;){if(255!=i.getUint8(o))return t&&console.log("Not a valid marker at offset "+o+", found: "+i.getUint8(o)),!1;if(n=i.getUint8(o+1),t&&console.log(n),225==n)return t&&console.log("Found 0xFFE1 marker"),g(i,o+4,i.getUint16(o+2));o+=2+i.getUint16(o+2)}}var d={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function c(t,e,i){for(var n,o,r,a,s=new DataView(t),h={},l=e;l<e+i;)28===s.getUint8(l)&&2===s.getUint8(l+1)&&(a=s.getUint8(l+2))in d&&((r=s.getInt16(l+3))+5,o=d[a],n=p(s,l+5,r),h.hasOwnProperty(o)?h[o]instanceof Array?h[o].push(n):h[o]=[h[o],n]:h[o]=n),l++;return h}function u(e,i,n,o,r){var a,s,h,l=e.getUint16(n,!r),d={};for(h=0;h<l;h++)a=n+12*h+2,!(s=o[e.getUint16(a,!r)])&&t&&console.log("Unknown tag: "+e.getUint16(a,!r)),d[s]=f(e,a,i,n,r);return d}function f(t,e,i,n,o){var r,a,s,h,l,d,c=t.getUint16(e+2,!o),u=t.getUint32(e+4,!o),f=t.getUint32(e+8,!o)+i;switch(c){case 1:case 7:if(1==u)return t.getUint8(e+8,!o);for(r=u>4?f:e+8,a=[],h=0;h<u;h++)a[h]=t.getUint8(r+h);return a;case 2:return p(t,r=u>4?f:e+8,u-1);case 3:if(1==u)return t.getUint16(e+8,!o);for(r=u>2?f:e+8,a=[],h=0;h<u;h++)a[h]=t.getUint16(r+2*h,!o);return a;case 4:if(1==u)return t.getUint32(e+8,!o);for(a=[],h=0;h<u;h++)a[h]=t.getUint32(f+4*h,!o);return a;case 5:if(1==u)return l=t.getUint32(f,!o),d=t.getUint32(f+4,!o),(s=new Number(l/d)).numerator=l,s.denominator=d,s;for(a=[],h=0;h<u;h++)l=t.getUint32(f+8*h,!o),d=t.getUint32(f+4+8*h,!o),a[h]=new Number(l/d),a[h].numerator=l,a[h].denominator=d;return a;case 9:if(1==u)return t.getInt32(e+8,!o);for(a=[],h=0;h<u;h++)a[h]=t.getInt32(f+4*h,!o);return a;case 10:if(1==u)return t.getInt32(f,!o)/t.getInt32(f+4,!o);for(a=[],h=0;h<u;h++)a[h]=t.getInt32(f+8*h,!o)/t.getInt32(f+4+8*h,!o);return a}}function p(t,e,i){var o="";for(n=e;n<e+i;n++)o+=String.fromCharCode(t.getUint8(n));return o}function g(e,n){if("Exif"!=p(e,n,4))return t&&console.log("Not valid EXIF data! "+p(e,n,4)),!1;var s,h,l,d,c,f=n+6;if(18761==e.getUint16(f))s=!1;else{if(19789!=e.getUint16(f))return t&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;s=!0}if(42!=e.getUint16(f+2,!s))return t&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var g=e.getUint32(f+4,!s);if(g<8)return t&&console.log("Not valid TIFF data! (First offset less than 8)",e.getUint32(f+4,!s)),!1;if((h=u(e,f,f+g,o,s)).ExifIFDPointer){d=u(e,f,f+h.ExifIFDPointer,i,s);for(l in d){switch(l){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":d[l]=a[l][d[l]];break;case"ExifVersion":case"FlashpixVersion":d[l]=String.fromCharCode(d[l][0],d[l][1],d[l][2],d[l][3]);break;case"ComponentsConfiguration":d[l]=a.Components[d[l][0]]+a.Components[d[l][1]]+a.Components[d[l][2]]+a.Components[d[l][3]]}h[l]=d[l]}}if(h.GPSInfoIFDPointer){c=u(e,f,f+h.GPSInfoIFDPointer,r,s);for(l in c){switch(l){case"GPSVersionID":c[l]=c[l][0]+"."+c[l][1]+"."+c[l][2]+"."+c[l][3]}h[l]=c[l]}}return h}e.getData=function(t,e){return!((t instanceof Image||t instanceof HTMLImageElement)&&!t.complete)&&(s(t)?e&&e.call(t):h(t,e),!0)},e.getTag=function(t,e){if(s(t))return t.exifdata[e]},e.getAllTags=function(t){if(!s(t))return{};var e,i=t.exifdata,n={};for(e in i)i.hasOwnProperty(e)&&(n[e]=i[e]);return n},e.pretty=function(t){if(!s(t))return"";var e,i=t.exifdata,n="";for(e in i)i.hasOwnProperty(e)&&("object"==typeof i[e]?i[e]instanceof Number?n+=e+" : "+i[e]+" ["+i[e].numerator+"/"+i[e].denominator+"]\r\n":n+=e+" : ["+i[e].length+" values]\r\n":n+=e+" : "+i[e]+"\r\n");return n},e.readFromBinaryFile=function(t){return l(t)},"function"==typeof define&&define.amd&&define("exif-js",[],function(){return e})}.call(this),function(t){"use strict";var e,i=!!("outerHTML"in t("<div></div>").get(0)),n=function(e){return t('<div id="jquery-outerHtml-transformer"></div>').append(e).contents().replaceAll(this)},o=!0;t.fn.outerHtml=function(e){if(arguments.length){if(o)return n.call(this,e);var r=function(){var t=Array(this.length);return this.each(function(e){t[e]=this.parentNode||null}),t}.call(this);return n.call(this,e).map(function(t){if(r[t]){if(r[t]!==this.parentNode)return r[t].appendChild(this)}else if(this.parentNode)return this.parentNode.removeChild(this);return this})}return function(){var e=this.get(0);return i&&1===e.nodeType?e.outerHTML:t("<div></div>").append(this.eq(0).clone()).html()}.call(this)},e=t("<s>bad</s>").outerHtml("<div>good</div>").get(0).parentNode,o="#document-fragment"===e.nodeName&&11===e.nodeType}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(t){"use strict";var e,i=t(window),n=t(document),o=window.location,r=".cropper",a="preview"+r,s=/^(e|n|w|s|ne|nw|sw|se|all|crop|move|zoom)$/,h="cropper-modal",l="cropper-hidden",d="cropper-disabled",c="mousedown touchstart",u="mousemove touchmove",f="mouseup mouseleave touchend touchleave touchcancel",p="wheel mousewheel DOMMouseScroll",g="resize"+r,m="build"+r,y="built"+r,v="dragstart"+r,w="dragmove"+r,x="dragend"+r,b="zoomin"+r,C="zoomout"+r,S=t.isFunction(t("<canvas>")[0].getContext),P=Math.sqrt,T=Math.min,D=Math.max,F=Math.abs,I=Math.sin,L=Math.cos,B=parseFloat,U={};function R(t){return"number"==typeof t}function k(t){return void 0===t}function G(t,e){var i=[];return R(e)&&i.push(e),i.slice.apply(t,i)}function A(t,e){var i=G(arguments,2);return function(){return t.apply(e,i.concat(G(arguments)))}}function E(t,e){return e.left<0&&t.width<e.left+e.width&&e.top<0&&t.height<e.top+e.height}function M(t){return t?"rotate("+t+"deg)":"none"}function W(t,e){var i,n,o=F(t.degree)%180,r=(o>90?180-o:o)*Math.PI/180,a=I(r),s=L(r),h=t.width,l=t.height,d=t.aspectRatio;return e?n=(i=h/(s+a/d))/d:(i=h*s+l*a,n=h*a+l*s),{width:i,height:n}}function H(e,i){this.$element=t(e),this.options=t.extend({},H.DEFAULTS,t.isPlainObject(i)&&i),this.ready=!1,this.built=!1,this.rotated=!1,this.cropped=!1,this.disabled=!1,this.canvas=null,this.cropBox=null,this.load()}U.load=function(e){var i,n,r,a,s,h,l,d=this.options,c=this.$element;if(!e)if(c.is("img")){if(!c.attr("src"))return;e=c.prop("src")}else c.is("canvas")&&S&&(e=c[0].toDataURL());e&&(r=t.Event(m),c.one(m,d.build).trigger(r),r.isDefaultPrevented()||(d.checkImageOrigin&&((l=e.match(/^(https?:)\/\/([^\:\/\?#]+):?(\d*)/i))&&(l[1]!==o.protocol||l[2]!==o.hostname||l[3]!==o.port))&&(i="anonymous",c.prop("crossOrigin")||(s=e,h="timestamp="+(new Date).getTime(),n=s+(-1===s.indexOf("?")?"?":"&")+h)),this.$clone=a=t("<img>"),a.one("load",t.proxy(function(){var t=a.prop("naturalWidth")||a.width(),i=a.prop("naturalHeight")||a.height();this.image={naturalWidth:t,naturalHeight:i,aspectRatio:t/i,rotate:0},this.url=e,this.ready=!0,this.build()},this)).one("error",function(){a.remove()}).attr({src:n||e,crossOrigin:i}),a.addClass("cropper-hide").insertAfter(c)))},U.build=function(){var e,i,n=this.$element,o=this.$clone,r=this.options;this.ready&&(this.built&&this.unbuild(),this.$cropper=e=t(H.TEMPLATE),n.addClass(l),o.removeClass("cropper-hide"),this.$container=n.parent().append(e),this.$canvas=e.find(".cropper-canvas").append(o),this.$dragBox=e.find(".cropper-drag-box"),this.$cropBox=i=e.find(".cropper-crop-box"),this.$viewBox=e.find(".cropper-view-box"),this.addListeners(),this.initPreview(),r.aspectRatio=B(r.aspectRatio)||NaN,r.autoCrop?(this.cropped=!0,r.modal&&this.$dragBox.addClass(h)):i.addClass(l),r.background&&e.addClass("cropper-bg"),r.highlight||i.find(".cropper-face").addClass("cropper-invisible"),r.guides||i.find(".cropper-dashed").addClass(l),r.movable||i.find(".cropper-face").data("drag","move"),r.resizable||i.find(".cropper-line, .cropper-point").addClass(l),this.setDragMode(r.dragCrop?"crop":"move"),this.built=!0,this.render(),n.one(y,r.built).trigger(y))},U.unbuild=function(){this.built&&(this.built=!1,this.container=null,this.canvas=null,this.cropBox=null,this.removeListeners(),this.resetPreview(),this.$preview=null,this.$viewBox=null,this.$cropBox=null,this.$dragBox=null,this.$canvas=null,this.$container=null,this.$cropper.remove(),this.$cropper=null)},t.extend(U,{render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.$element,e=this.$container,i=this.$cropper,n=this.options;i.addClass(l),t.removeClass(l),i.css(this.container={width:D(e.width(),B(n.minContainerWidth)||500),height:D(e.height(),B(n.minContainerHeight)||300)}),t.addClass(l),i.removeClass(l)},initCanvas:function(){var e=this.container,i=e.width,n=e.height,o=this.image,r=o.aspectRatio,a={aspectRatio:r,width:i,height:n};n*r>i?a.height=i/r:a.width=n*r;var s=document.body.clientWidth;s<768&&(i=s),a.oldLeft=a.left=(i-a.width)/2,a.oldTop=a.top=(n-a.height)/2,this.canvas=a,this.limitCanvas(!0,!0),this.initialImage=t.extend({},o),this.initialCanvas=t.extend({},a)},limitCanvas:function(e,i){var n,o,r=this.options,a=r.strict,s=this.container,h=s.width,l=s.height,d=this.canvas,c=d.aspectRatio,u=this.cropBox,f=this.cropped&&u;e&&(n=B(r.minCanvasWidth)||0,o=B(r.minCanvasHeight)||0,n?(a&&(n=D(f?u.width:h,n)),o=n/c):o?(a&&(o=D(f?u.height:l,o)),n=o*c):a&&(f?(n=u.width,(o=u.height)*c>n?n=o*c:o=n/c):(o=l)*c>(n=h)?o=n/c:n=o*c),t.extend(d,{minWidth:n,minHeight:o,maxWidth:1/0,maxHeight:1/0})),i&&(a?f?(d.minLeft=T(u.left,u.left+u.width-d.width),d.minTop=T(u.top,u.top+u.height-d.height),d.maxLeft=u.left,d.maxTop=u.top):(d.minLeft=T(0,h-d.width),d.minTop=T(0,l-d.height),d.maxLeft=D(0,h-d.width),d.maxTop=D(0,l-d.height)):(d.minLeft=-d.width,d.minTop=-d.height,d.maxLeft=h,d.maxTop=l))},renderCanvas:function(t){var e,i,n=this.options,o=this.canvas,r=this.image;this.rotated&&(this.rotated=!1,(e=(i=W({width:r.width,height:r.height,degree:r.rotate})).width/i.height)!==o.aspectRatio&&(o.left-=(i.width-o.width)/2,o.top-=(i.height-o.height)/2,o.width=i.width,o.height=i.height,o.aspectRatio=e,this.limitCanvas(!0,!1))),(o.width>o.maxWidth||o.width<o.minWidth)&&(o.left=o.oldLeft),(o.height>o.maxHeight||o.height<o.minHeight)&&(o.top=o.oldTop),o.width=T(D(o.width,o.minWidth),o.maxWidth),o.height=T(D(o.height,o.minHeight),o.maxHeight),this.limitCanvas(!1,!0),o.oldLeft=o.left=T(D(o.left,o.minLeft),o.maxLeft),o.oldTop=o.top=T(D(o.top,o.minTop),o.maxTop),this.$canvas.css({width:o.width,height:o.height,left:o.left,top:o.top}),this.renderImage(),this.cropped&&n.strict&&!E(this.container,o)&&this.limitCropBox(!0,!0),t&&this.output()},renderImage:function(){var e,i=this.canvas,n=this.image;n.rotate&&(e=W({width:i.width,height:i.height,degree:n.rotate,aspectRatio:n.aspectRatio},!0)),t.extend(n,e?{width:e.width,height:e.height,left:(i.width-e.width)/2,top:(i.height-e.height)/2}:{width:i.width,height:i.height,left:0,top:0}),this.$clone.css({width:n.width,height:n.height,marginLeft:n.left,marginTop:n.top,transform:M(n.rotate)})},initCropBox:function(){var e=this.options,i=this.canvas,n=e.aspectRatio,o=B(e.autoCropArea)||.8,r={width:i.width,height:i.height};n&&(i.height*n>i.width?r.height=r.width/n:r.width=r.height*n),this.cropBox=r,this.limitCropBox(!0,!0),r.width=T(D(r.width,r.minWidth),r.maxWidth),r.height=T(D(r.height,r.minHeight),r.maxHeight),r.width=D(r.minWidth,r.width*o),r.height=D(r.minHeight,r.height*o),r.oldLeft=r.left=i.left+(i.width-r.width)/2,r.oldTop=r.top=i.top+(i.height-r.height)/2,this.initialCropBox=t.extend({},r)},limitCropBox:function(t,e){var i,n,o=this.options,r=o.strict,a=this.container,s=a.width,h=a.height,l=this.canvas,d=this.cropBox,c=o.aspectRatio;t&&(i=B(o.minCropBoxWidth)||0,n=B(o.minCropBoxHeight)||0,d.minWidth=T(s,i),d.minHeight=T(h,n),d.maxWidth=T(s,r?l.width:s),d.maxHeight=T(h,r?l.height:h),c&&(d.maxHeight*c>d.maxWidth?(d.minHeight=d.minWidth/c,d.maxHeight=d.maxWidth/c):(d.minWidth=d.minHeight*c,d.maxWidth=d.maxHeight*c)),d.minWidth=T(d.maxWidth,d.minWidth),d.minHeight=T(d.maxHeight,d.minHeight)),e&&(r?(d.minLeft=D(0,l.left),d.minTop=D(0,l.top),d.maxLeft=T(s,l.left+l.width)-d.width,d.maxTop=T(h,l.top+l.height)-d.height):(d.minLeft=0,d.minTop=0,d.maxLeft=s-d.width,d.maxTop=h-d.height))},renderCropBox:function(){var t=this.options,e=this.container,i=e.width,n=e.height,o=this.$cropBox,r=this.cropBox;(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=T(D(r.width,r.minWidth),r.maxWidth),r.height=T(D(r.height,r.minHeight),r.maxHeight),this.limitCropBox(!1,!0),r.oldLeft=r.left=T(D(r.left,r.minLeft),r.maxLeft),r.oldTop=r.top=T(D(r.top,r.minTop),r.maxTop),t.movable&&o.find(".cropper-face").data("drag",r.width===i&&r.height===n?"move":"all"),o.css({width:r.width,height:r.height,left:r.left,top:r.top}),this.cropped&&t.strict&&!E(e,this.canvas)&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){var t=this.options;this.preview(),t.crop&&t.crop.call(this.$element,this.getData())}}),U.initPreview=function(){var e=this.url;this.$preview=t(this.options.preview),this.$viewBox.html('<img src="'+e+'">'),this.$preview.each(function(){var i=t(this);i.data(a,{width:i.width(),height:i.height(),original:i.html()}).html('<img src="'+e+'" style="display:block;width:100%;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation: 0deg!important">')})},U.resetPreview=function(){this.$preview.each(function(){var e=t(this);e.html(e.data(a).original).removeData(a)})},U.preview=function(){var e=this.image,i=this.canvas,n=this.cropBox,o=e.width,r=e.height,s=n.left-i.left-e.left,h=n.top-i.top-e.top,l=e.rotate;this.cropped&&!this.disabled&&(this.$viewBox.find("img").css({width:o,height:r,marginLeft:-s,marginTop:-h,transform:M(l)}),this.$preview.each(function(){var e=t(this),i=e.data(a),d=i.width/n.width,c=i.width,u=n.height*d;u>i.height&&(d=i.height/n.height,c=n.width*d,u=i.height),e.width(c).height(u).find("img").css({width:o*d,height:r*d,marginLeft:-s*d,marginTop:-h*d,transform:M(l)})}))},U.addListeners=function(){var e=this.options;this.$element.on(v,e.dragstart).on(w,e.dragmove).on(x,e.dragend).on(b,e.zoomin).on(C,e.zoomout),this.$cropper.on(c,t.proxy(this.dragstart,this)).on("dblclick",t.proxy(this.dblclick,this)),e.zoomable&&e.mouseWheelZoom&&this.$cropper.on(p,t.proxy(this.wheel,this)),n.on(u,this._dragmove=A(this.dragmove,this)).on(f,this._dragend=A(this.dragend,this)),e.responsive&&i.on(g,this._resize=A(this.resize,this))},U.removeListeners=function(){var t=this.options;this.$element.off(v,t.dragstart).off(w,t.dragmove).off(x,t.dragend).off(b,t.zoomin).off(C,t.zoomout),this.$cropper.off(c,this.dragstart).off("dblclick",this.dblclick),t.zoomable&&t.mouseWheelZoom&&this.$cropper.off(p,this.wheel),n.off(u,this._dragmove).off(f,this._dragend),t.responsive&&i.off(g,this._resize)},t.extend(U,{resize:function(){var e,i,n,o=this.$container,r=this.container;this.disabled||1===(n=o.width()/r.width)&&o.height()===r.height||(e=this.getCanvasData(),i=this.getCropBoxData(),this.render(),this.setCanvasData(t.each(e,function(t,i){e[t]=i*n})),this.setCropBoxData(t.each(i,function(t,e){i[t]=e*n})))},dblclick:function(){this.disabled||(this.$dragBox.hasClass("cropper-crop")?this.setDragMode("move"):this.setDragMode("crop"))},wheel:function(t){var e=t.originalEvent,i=1;this.disabled||(t.preventDefault(),e.deltaY?i=e.deltaY>0?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=e.detail>0?1:-1),this.zoom(.1*-i))},dragstart:function(e){var i,n,o,r=this.options,a=e.originalEvent,l=a&&a.touches,d=e;if(!this.disabled){if(l){if((o=l.length)>1){if(!r.zoomable||!r.touchDragZoom||2!==o)return;d=l[1],this.startX2=d.pageX,this.startY2=d.pageY,i="zoom"}d=l[0]}if(i=i||t(d.target).data("drag"),s.test(i)){if(e.preventDefault(),n=t.Event(v,{originalEvent:a,dragType:i}),this.$element.trigger(n),n.isDefaultPrevented())return;this.dragType=i,this.cropping=!1,this.startX=d.pageX,this.startY=d.pageY,"crop"===i&&(this.cropping=!0,this.$dragBox.addClass(h))}}},dragmove:function(e){var i,n,o=this.options,r=e.originalEvent,a=r&&r.touches,s=e,h=this.dragType;if(!this.disabled){if(a){if((n=a.length)>1){if(!o.zoomable||!o.touchDragZoom||2!==n)return;s=a[1],this.endX2=s.pageX,this.endY2=s.pageY}s=a[0]}if(h){if(e.preventDefault(),i=t.Event(w,{originalEvent:r,dragType:h}),this.$element.trigger(i),i.isDefaultPrevented())return;this.endX=s.pageX,this.endY=s.pageY,this.change()}}},dragend:function(e){var i,n=this.dragType;if(!this.disabled&&n){if(e.preventDefault(),i=t.Event(x,{originalEvent:e.originalEvent,dragType:n}),this.$element.trigger(i),i.isDefaultPrevented())return;this.cropping&&(this.cropping=!1,this.$dragBox.toggleClass(h,this.cropped&&this.options.modal)),this.dragType=""}}}),t.extend(U,{reset:function(){this.built&&!this.disabled&&(this.image=t.extend({},this.initialImage),this.canvas=t.extend({},this.initialCanvas),this.renderCanvas(),this.cropped&&(this.cropBox=t.extend({},this.initialCropBox),this.renderCropBox()))},clear:function(){this.cropped&&!this.disabled&&(t.extend(this.cropBox,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(),this.renderCanvas(),this.$dragBox.removeClass(h),this.$cropBox.addClass(l))},destroy:function(){var t=this.$element;this.ready?(this.unbuild(),t.removeClass(l)):this.$clone.off("load").remove(),t.removeData("cropper")},replace:function(t){!this.disabled&&t&&this.load(t)},enable:function(){this.built&&(this.disabled=!1,this.$cropper.removeClass(d))},disable:function(){this.built&&(this.disabled=!0,this.$cropper.addClass(d))},move:function(t,e){var i=this.canvas;this.built&&!this.disabled&&R(t)&&R(e)&&(i.left+=t,i.top+=e,this.renderCanvas(!0))},zoom:function(e){var i,n,o,r=this.canvas;if((e=B(e))&&this.built&&!this.disabled&&this.options.zoomable){if(i=e>0?t.Event(b):t.Event(C),this.$element.trigger(i),i.isDefaultPrevented())return;e=e<=-1?1/(1-e):e<=1?1+e:e,n=r.width*e,o=r.height*e,r.left-=(n-r.width)/2,r.top-=(o-r.height)/2,r.width=n,r.height=o,this.renderCanvas(!0),this.setDragMode("move")}},rotate:function(t){var e=this.image;(t=B(t))&&this.built&&!this.disabled&&this.options.rotatable&&(e.rotate=(e.rotate+t)%360,this.rotated=!0,this.renderCanvas(!0))},getData:function(){var e,i,n=this.cropBox,o=this.canvas,r=this.image;return this.built&&this.cropped?(i={x:n.left-o.left,y:n.top-o.top,width:n.width,height:n.height},e=r.width/r.naturalWidth,t.each(i,function(t,n){n/=e,i[t]=n})):i={x:0,y:0,width:0,height:0},i.rotate=r.rotate,i},getContainerData:function(){return this.built?this.container:{}},getImageData:function(){return this.ready?this.image:{}},getCanvasData:function(){var t,e=this.canvas;return this.built&&(t={left:e.left,top:e.top,width:e.width,height:e.height}),t||{}},setCanvasData:function(e){var i=this.canvas,n=i.aspectRatio;this.built&&!this.disabled&&t.isPlainObject(e)&&(R(e.left)&&(i.left=e.left),R(e.top)&&(i.top=e.top),R(e.width)?(i.width=e.width,i.height=e.width/n):R(e.height)&&(i.height=e.height,i.width=e.height*n),this.renderCanvas(!0))},getCropBoxData:function(){var t,e=this.cropBox;return this.built&&this.cropped&&(t={left:e.left,top:e.top,width:e.width,height:e.height}),t||{}},setCropBoxData:function(e){var i=this.cropBox,n=this.options.aspectRatio;this.built&&this.cropped&&!this.disabled&&t.isPlainObject(e)&&(R(e.left)&&(i.left=e.left),R(e.top)&&(i.top=e.top),n?R(e.width)?(i.width=e.width,i.height=i.width/n):R(e.height)&&(i.height=e.height,i.width=i.height*n):(R(e.width)&&(i.width=e.width),R(e.height)&&(i.height=e.height)),this.renderCropBox())},getCroppedCanvas:function(e){var i,n,o,r,a,s,h,l,d,c,u;if(this.built&&this.cropped&&S)return t.isPlainObject(e)||(e={}),u=this.getData(),i=u.width,n=u.height,l=i/n,t.isPlainObject(e)&&(a=e.width,s=e.height,a?(s=a/l,h=a/i):s&&(a=s*l,h=s/n)),o=a||i,r=s||n,(d=t("<canvas>")[0]).width=o,d.height=r,c=d.getContext("2d"),e.fillColor&&(c.fillStyle=e.fillColor,c.fillRect(0,0,o,r)),c.drawImage.apply(c,function(){var e,o,r,a,s,l,d,c,f,p,g,m,y,v,w=(d=this.$clone[0],c=this.image,f=t("<canvas>")[0],p=f.getContext("2d"),g=c.naturalWidth,m=c.naturalHeight,y=c.rotate,v=W({width:g,height:m,degree:y}),y?(f.width=v.width,f.height=v.height,p.save(),p.translate(v.width/2,v.height/2),p.rotate(y*Math.PI/180),p.drawImage(d,-g/2,-m/2,g,m),p.restore()):(f.width=g,f.height=m,p.drawImage(d,0,0,g,m)),f),x=w.width,b=w.height,C=[w],S=u.x,P=u.y;return S<=-i||S>x?S=e=r=s=0:S<=0?(r=-S,e=s=T(x,i+(S=0))):S<=x&&(r=0,e=s=T(i,x-S)),e<=0||P<=-n||P>b?P=o=a=l=0:P<=0?(a=-P,o=l=T(b,n+(P=0))):P<=b&&(a=0,o=l=T(n,b-P)),C.push(S,P,e,o),h&&(r*=h,a*=h,s*=h,l*=h),s>0&&l>0&&C.push(r,a,s,l),C}.call(this)),d},setAspectRatio:function(t){var e=this.options;this.disabled||k(t)||(e.aspectRatio=B(t)||NaN,this.built&&(this.initCropBox(),this.cropped&&this.renderCropBox()))},setDragMode:function(t){var e=this.$dragBox,i=!1,n=!1;if(this.ready&&!this.disabled){switch(t){case"crop":this.options.dragCrop?(i=!0,e.data("drag",t)):n=!0;break;case"move":n=!0,e.data("drag",t);break;default:e.removeData("drag")}e.toggleClass("cropper-crop",i).toggleClass("cropper-move",n)}}}),U.change=function(){var t,e,i,n,o,r,a=this.dragType,s=this.options,h=this.canvas,d=this.container,c=this.cropBox,u=c.width,f=c.height,p=c.left,g=c.top,m=p+u,y=g+f,v=0,w=0,x=d.width,b=d.height,C=!0,S=s.aspectRatio,D={x:this.endX-this.startX,y:this.endY-this.startY};switch(s.strict&&(v=c.minLeft,w=c.minTop,x=v+T(d.width,h.width),b=w+T(d.height,h.height)),S&&(D.X=D.y*S,D.Y=D.x/S),a){case"all":p+=D.x,g+=D.y;break;case"e":if(D.x>=0&&(m>=x||S&&(g<=w||y>=b))){C=!1;break}u+=D.x,S&&(f=u/S,g-=D.Y/2),u<0&&(a="w",u=0);break;case"n":if(D.y<=0&&(g<=w||S&&(p<=v||m>=x))){C=!1;break}f-=D.y,g+=D.y,S&&(u=f*S,p+=D.X/2),f<0&&(a="s",f=0);break;case"w":if(D.x<=0&&(p<=v||S&&(g<=w||y>=b))){C=!1;break}u-=D.x,p+=D.x,S&&(f=u/S,g+=D.Y/2),u<0&&(a="e",u=0);break;case"s":if(D.y>=0&&(y>=b||S&&(p<=v||m>=x))){C=!1;break}f+=D.y,S&&(u=f*S,p-=D.X/2),f<0&&(a="n",f=0);break;case"ne":if(S){if(D.y<=0&&(g<=w||m>=x)){C=!1;break}f-=D.y,g+=D.y,u=f*S}else D.x>=0?m<x?u+=D.x:D.y<=0&&g<=w&&(C=!1):u+=D.x,D.y<=0?g>0&&(f-=D.y,g+=D.y):(f-=D.y,g+=D.y);u<0&&f<0?(a="sw",f=0,u=0):u<0?(a="nw",u=0):f<0&&(a="se",f=0);break;case"nw":if(S){if(D.y<=0&&(g<=w||p<=v)){C=!1;break}f-=D.y,g+=D.y,u=f*S,p+=D.X}else D.x<=0?p>0?(u-=D.x,p+=D.x):D.y<=0&&g<=w&&(C=!1):(u-=D.x,p+=D.x),D.y<=0?g>0&&(f-=D.y,g+=D.y):(f-=D.y,g+=D.y);u<0&&f<0?(a="se",f=0,u=0):u<0?(a="ne",u=0):f<0&&(a="sw",f=0);break;case"sw":if(S){if(D.x<=0&&(p<=v||y>=b)){C=!1;break}u-=D.x,p+=D.x,f=u/S}else D.x<=0?p>0?(u-=D.x,p+=D.x):D.y>=0&&y>=b&&(C=!1):(u-=D.x,p+=D.x),D.y>=0?y<b&&(f+=D.y):f+=D.y;u<0&&f<0?(a="ne",f=0,u=0):u<0?(a="se",u=0):f<0&&(a="nw",f=0);break;case"se":if(S){if(D.x>=0&&(m>=x||y>=b)){C=!1;break}f=(u+=D.x)/S}else D.x>=0?m<x?u+=D.x:D.y>=0&&y>=b&&(C=!1):u+=D.x,D.y>=0?y<b&&(f+=D.y):f+=D.y;u<0&&f<0?(a="nw",f=0,u=0):u<0?(a="sw",u=0):f<0&&(a="ne",f=0);break;case"move":h.left+=D.x,h.top+=D.y,this.renderCanvas(!0),C=!1;break;case"zoom":this.zoom((e=F(this.startX-this.startX2),i=F(this.startY-this.startY2),n=F(this.endX-this.endX2),o=F(this.endY-this.endY2),r=P(e*e+i*i),(P(n*n+o*o)-r)/r)),this.startX2=this.endX2,this.startY2=this.endY2,C=!1;break;case"crop":D.x&&D.y&&(t=this.$cropper.offset(),p=this.startX-t.left,g=this.startY-t.top,u=c.minWidth,f=c.minHeight,D.x>0?D.y>0?a="se":(a="ne",g-=f):D.y>0?(a="sw",p-=u):(a="nw",p-=u,g-=f),this.cropped||(this.cropped=!0,this.$cropBox.removeClass(l)))}C&&(c.width=u,c.height=f,c.left=p,c.top=g,this.dragType=a,this.renderCropBox()),this.startX=this.endX,this.startY=this.endY},t.extend(H.prototype,U),H.DEFAULTS={aspectRatio:NaN,autoCropArea:.8,crop:null,preview:"",strict:!0,responsive:!0,checkImageOrigin:!0,modal:!0,guides:!0,highlight:!0,background:!0,autoCrop:!0,dragCrop:!0,movable:!0,resizable:!0,rotatable:!0,zoomable:!0,touchDragZoom:!0,mouseWheelZoom:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,build:null,built:null,dragstart:null,dragmove:null,dragend:null,zoomin:null,zoomout:null},H.setDefaults=function(e){t.extend(H.DEFAULTS,e)},H.TEMPLATE=(e=(e="div,span,drag,data,point,cropper,class,line,dashed,box").split(","),'<0 6="5-container"><0 6="5-canvas"></0><0 6="5-2-9" 3-2="move"></0><0 6="5-crop-9"><1 6="5-view-9"></1><1 6="5-8 8-h"></1><1 6="5-8 8-v"></1><1 6="5-face" 3-2="all"></1><1 6="5-7 7-e" 3-2="e"></1><1 6="5-7 7-n" 3-2="n"></1><1 6="5-7 7-w" 3-2="w"></1><1 6="5-7 7-s" 3-2="s"></1><1 6="5-4 4-e" 3-2="e"></1><1 6="5-4 4-n" 3-2="n"></1><1 6="5-4 4-w" 3-2="w"></1><1 6="5-4 4-s" 3-2="s"></1><1 6="5-4 4-ne" 3-2="ne"></1><1 6="5-4 4-nw" 3-2="nw"></1><1 6="5-4 4-sw" 3-2="sw"></1><1 6="5-4 4-se" 3-2="se"></1></0></0>'.replace(/\d+/g,function(t){return e[t]})),H.other=t.fn.cropper,t.fn.cropper=function(e){var i,n=G(arguments,1);return this.each(function(){var o,r=t(this),a=r.data("cropper");a||r.data("cropper",a=new H(this,e)),"string"==typeof e&&t.isFunction(o=a[e])&&(i=o.apply(a,n))}),k(i)?this:i},t.fn.cropper.Constructor=H,t.fn.cropper.setDefaults=H.setDefaults,t.fn.cropper.noConflict=function(){return t.fn.cropper=H.other,this}}),$.fn.localResizeIMG=function(t){this.on("change",function(){var e,i,n=this.files[0],o=(window.URL||window.webkitURL).createObjectURL(n);$.isFunction(t.before)&&t.before(this,o,n),e=o,(i=new Image).src=e,i.onload=function(){var e=this.width,n=this.height,o=e/n;e=t.width||e,n=e/o;var r=document.createElement("canvas"),a=r.getContext("2d");$(r).attr({width:e,height:n}),a.drawImage(this,0,0,e,n);var s=r.toDataURL("image/jpeg",t.quality||.8);if(navigator.userAgent.match(/iphone/i)){var h=new MegaPixImage(i);h.render(r,{maxWidth:e,maxHeight:n,quality:t.quality||.8}),s=r.toDataURL("image/jpeg",t.quality||.8)}if(navigator.userAgent.match(/Android/i)){var l=new JPEGEncoder;s=l.encode(a.getImageData(0,0,e,n),100*t.quality||80)}var d={base64:s,clearBase64:s.substr(s.indexOf(",")+1)};t.success(d)},this.value=""})},function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i=e();for(var n in i)("object"==typeof exports?exports:t)[n]=i[n]}}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i=window.webpackJsonp;window.webpackJsonp=function(n,r){for(var a,s,h=0,l=[];h<n.length;h++)s=n[h],o[s]&&l.push.apply(l,o[s]),o[s]=0;for(a in r)t[a]=r[a];for(i&&i(n,r);l.length;)l.shift().call(null,e)};var n={},o={0:0};return e.e=function(t,i){if(0===o[t])return i.call(null,e);if(void 0!==o[t])o[t].push(i);else{o[t]=[i];var n=document.getElementsByTagName("head")[0],r=document.createElement("script");r.type="text/javascript",r.charset="utf-8",r.async=!0,r.src=e.p+""+({}[t]||t)+".chunk.js",n.appendChild(r)}},e.m=t,e.c=n,e.p="",e(0)}([function(t,e,i){function n(t,e){if(!t)throw new Error("没有收到图片，可能的解决方案：https://github.com/think2011/localResizeIMG/issues/7");e=e||{},this.defaults={width:null,height:null,fieldName:"file",quality:.7},this.file=t;for(var i in e)e.hasOwnProperty(i)&&(this.defaults[i]=e[i]);return this.init()}var o,r;i.p=(r=null,((r=(o="lrz")?[].filter.call(document.scripts,function(t){return-1!==t.src.indexOf(o)})[0]:document.scripts[document.scripts.length-1])?r.src.substr(0,r.src.lastIndexOf("/")):null)+"/"),window.URL=window.URL||window.webkitURL;var a,s,h,l=i(1),d=i(4),c=i(5),u=(a=navigator.userAgent,s=/OS (\d)_.* like Mac OS X/g.exec(a),h=/Android (\d.*?);/g.exec(a)||/Android\/(\d.*?) /g.exec(a),{oldIOS:!!s&&+s.pop()<8,oldAndroid:!!h&&+h.pop().substr(0,3)<4.5,iOS:/\(i[^;]+;( U;)? CPU.+Mac OS X/.test(a),android:/Android/g.test(a),mQQBrowser:/MQQBrowser/g.test(a)});n.prototype.init=function(){var t=this,e=t.file,i="string"==typeof e,n=/^data:/.test(e),o=new Image,r=document.createElement("canvas"),a=i?e:URL.createObjectURL(e);if(t.img=o,t.blob=a,t.canvas=r,t.fileName=i?n?"base64.jpg":e.split("/").pop():e.name,!document.createElement("canvas").getContext)throw new Error("浏览器不支持canvas");return new l(function(i,r){o.onerror=function(){throw new Error("加载图片文件失败")},o.onload=function(){t._getBase64().then(function(t){return t.length<10&&r("生成base64失败"),t}).then(function(n){var o=null;"object"==typeof t.file&&n.length>t.file.size?(o=new FormData,e=t.file):(o=new d.FormData,e=function(t){var e;e=t.split(",")[0].indexOf("base64")>=0?atob(t.split(",")[1]):unescape(t.split(",")[1]);for(var i=t.split(",")[0].split(":")[1].split(";")[0],n=new Uint8Array(e.length),o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return new d.Blob([n.buffer],{type:i})}(n)),o.append(t.defaults.fieldName,e,t.fileName.replace(/\..+/g,".jpg")),i({formData:o,fileLen:+e.size,base64:n,base64Len:n.length,origin:t.file});for(var r in t)t.hasOwnProperty(r)&&(t[r]=null);URL.revokeObjectURL(t.blob)})},!n&&(o.crossOrigin="*"),o.src=a})},n.prototype._getBase64=function(){var t=this,e=t.img,i=t.file,n=t.canvas;return new l(function(o){try{c.getData("object"==typeof i?i:e,function(){t.orientation=c.getTag(this,"Orientation"),t.resize=t._getResize(),t.ctx=n.getContext("2d"),n.width=t.resize.width,n.height=t.resize.height,t.ctx.fillStyle="#fff",t.ctx.fillRect(0,0,n.width,n.height),u.oldIOS?t._createBase64ForOldIOS().then(o):t._createBase64().then(o)})}catch(t){throw new Error(t)}})},n.prototype._createBase64ForOldIOS=function(){var t=this.img,e=this.canvas,n=this.defaults,o=this.orientation;return new l(function(r){i.e(1,function(i){var a=[i(6)];(function(i){var a=new i(t);"5678".indexOf(o)>-1?a.render(e,{width:e.height,height:e.width,orientation:o}):a.render(e,{width:e.width,height:e.height,orientation:o}),r(e.toDataURL("image/jpeg",n.quality))}).apply(null,a)})})},n.prototype._createBase64=function(){var t=this.resize,e=this.img,n=this.canvas,o=this.ctx,r=this.defaults;switch(this.orientation){case 3:o.rotate(180*Math.PI/180),o.drawImage(e,-t.width,-t.height,t.width,t.height);break;case 6:o.rotate(90*Math.PI/180),o.drawImage(e,0,-t.width,t.height,t.width);break;case 8:o.rotate(270*Math.PI/180),o.drawImage(e,-t.height,0,t.height,t.width);break;case 2:o.translate(t.width,0),o.scale(-1,1),o.drawImage(e,0,0,t.width,t.height);break;case 4:o.translate(t.width,0),o.scale(-1,1),o.rotate(180*Math.PI/180),o.drawImage(e,-t.width,-t.height,t.width,t.height);break;case 5:o.translate(t.width,0),o.scale(-1,1),o.rotate(90*Math.PI/180),o.drawImage(e,0,-t.width,t.height,t.width);break;case 7:o.translate(t.width,0),o.scale(-1,1),o.rotate(270*Math.PI/180),o.drawImage(e,-t.height,0,t.height,t.width);break;default:o.drawImage(e,0,0,t.width,t.height)}return new l(function(t){u.oldAndroid||u.mQQBrowser||!navigator.userAgent?i.e(2,function(e){var i=[e(7)];(function(e){var i=new e,a=o.getImageData(0,0,n.width,n.height);t(i.encode(a,100*r.quality))}).apply(null,i)}):t(n.toDataURL("image/jpeg",r.quality))})},n.prototype._getResize=function(){var t=this.img,e=this.defaults,i=e.width,n=e.height,o=this.orientation,r={width:t.width,height:t.height};if("5678".indexOf(o)>-1&&(r.width=t.height,r.height=t.width),r.width<i||r.height<n)return r;var a=r.width/r.height;for(i&&n?a>=i/n?r.width>i&&(r.width=i,r.height=Math.ceil(i/a)):r.height>n&&(r.height=n,r.width=Math.ceil(n*a)):i?i<r.width&&(r.width=i,r.height=Math.ceil(i/a)):n&&n<r.height&&(r.width=Math.ceil(n*a),r.height=n);r.width>=3264||r.height>=2448;)r.width*=.8,r.height*=.8;return r},window.lrz=function(t,e){return new n(t,e)},window.lrz.version="4.8.35",t.exports=window.lrz},function(t,e,i){(function(e){!function(i){function n(t,e){return function(){t.apply(e,arguments)}}function o(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],l(t,n(a,this),n(s,this))}function r(t){var e=this;return null===this._state?void this._deferreds.push(t):void d(function(){var i=e._state?t.onFulfilled:t.onRejected;if(null!==i){var n;try{n=i(e._value)}catch(e){return void t.reject(e)}t.resolve(n)}else(e._state?t.resolve:t.reject)(e._value)})}function a(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var e=t.then;if("function"==typeof e)return void l(n(e,t),n(a,this),n(s,this))}this._state=!0,this._value=t,h.call(this)}catch(t){s.call(this,t)}}function s(t){this._state=!1,this._value=t,h.call(this)}function h(){for(var t=0,e=this._deferreds.length;e>t;t++)r.call(this,this._deferreds[t]);this._deferreds=null}function l(t,e,i){var n=!1;try{t(function(t){n||(n=!0,e(t))},function(t){n||(n=!0,i(t))})}catch(t){if(n)return;n=!0,i(t)}}var d="function"==typeof e&&e||function(t){setTimeout(t,1)},c=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var i=this;return new o(function(n,o){r.call(i,new function(t,e,i,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=i,this.reject=n}(t,e,n,o))})},o.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&c(arguments[0])?arguments[0]:arguments);return new o(function(e,i){function n(r,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(t){n(r,t)},i)}t[r]=a,0==--o&&e(t)}catch(t){i(t)}}if(0===t.length)return e([]);for(var o=t.length,r=0;r<t.length;r++)n(r,t[r])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(t){return new o(function(e,i){i(t)})},o.race=function(t){return new o(function(e,i){for(var n=0,o=t.length;o>n;n++)t[n].then(e,i)})},o._setImmediateFn=function(t){d=t},o.prototype.always=function(t){var e=this.constructor;return this.then(function(i){return e.resolve(t()).then(function(){return i})},function(i){return e.resolve(t()).then(function(){throw i})})},void 0!==t&&t.exports?t.exports=o:i.Promise||(i.Promise=o)}(this)}).call(e,i(2).setImmediate)},function(t,e,i){(function(t,n){function o(t,e){this._id=t,this._clearFn=e}var r=i(3).nextTick,a=Function.prototype.apply,s=Array.prototype.slice,h={},l=0;e.setTimeout=function(){return new o(a.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new o(a.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var i=l++,n=!(arguments.length<2)&&s.call(arguments,1);return h[i]=!0,r(function(){h[i]&&(n?t.apply(null,n):t.call(null),e.clearImmediate(i))}),i},e.clearImmediate="function"==typeof n?n:function(t){delete h[t]}}).call(e,i(2).setImmediate,i(2).clearImmediate)},function(t,e){function i(){l=!1,a.length?h=a.concat(h):d=-1,h.length&&n()}function n(){if(!l){var t=setTimeout(i);l=!0;for(var e=h.length;e;){for(a=h,h=[];++d<e;)a&&a[d].run();d=-1,e=h.length}a=null,l=!1,clearTimeout(t)}}function o(t,e){this.fun=t,this.array=e}function r(){}var a,s=t.exports={},h=[],l=!1,d=-1;s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];h.push(new o(t,e)),1!==h.length||l||setTimeout(n,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=r,s.addListener=r,s.once=r,s.off=r,s.removeListener=r,s.removeAllListeners=r,s.emit=r,s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(t,e){var i=function(){try{return new Blob,!0}catch(t){return!1}}()?window.Blob:function(t,e){var i=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MSBlobBuilder||window.MozBlobBuilder);return t.forEach(function(t){i.append(t)}),i.getBlob(e?e.type:void 0)};t.exports={Blob:i,FormData:~navigator.userAgent.indexOf("Android")&&~navigator.vendor.indexOf("Google")&&!~navigator.userAgent.indexOf("Chrome")&&navigator.userAgent.match(/AppleWebKit\/(\d+)/).pop()<=534||/MQQBrowser/g.test(navigator.userAgent)?function(){var t=this,e=[],n=Array(21).join("-")+(+new Date*(1e16*Math.random())).toString(36),o=XMLHttpRequest.prototype.send;this.getParts=function(){return e.toString()},this.append=function(t,i,o){e.push("--"+n+'\r\nContent-Disposition: form-data; name="'+t+'"'),i instanceof Blob?(e.push('; filename="'+(o||"blob")+'"\r\nContent-Type: '+i.type+"\r\n\r\n"),e.push(i)):e.push("\r\n\r\n"+i),e.push("\r\n")},XMLHttpRequest.prototype.send=function(r){var a,s,h=this;r===t?(e.push("--"+n+"--\r\n"),s=new i(e),(a=new FileReader).onload=function(){o.call(h,a.result)},a.onerror=function(t){throw t},a.readAsArrayBuffer(s),this.setRequestHeader("Content-Type","multipart/form-data; boundary="+n),XMLHttpRequest.prototype.send=o):o.call(this,r)}}:FormData}},function(t,e,i){var n;(function(){function i(t){return!!t.exifdata}function o(t,e){function i(i){var n=r(i),o=function(t){var e=new DataView(t);if(c&&console.log("Got file of length "+t.byteLength),255!=e.getUint8(0)||216!=e.getUint8(1))return c&&console.log("Not a valid JPEG"),!1;for(var i=2,n=t.byteLength;n>i;){if(l=i,56===(h=e).getUint8(l)&&66===h.getUint8(l+1)&&73===h.getUint8(l+2)&&77===h.getUint8(l+3)&&4===h.getUint8(l+4)&&4===h.getUint8(l+5)){var o=e.getUint8(i+7);o%2!=0&&(o+=1),0===o&&(o=4);var r=i+8+o,s=e.getUint16(i+6+o);return a(t,r,s)}i++}var h,l}(i);t.exifdata=n||{},t.iptcdata=o||{},e&&e.call(t)}if(t.src)if(/^data\:/i.test(t.src)){i(function(t,e){e=e||t.match(/^data\:([^\;]+)\;base64,/im)[1]||"",t=t.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var i=atob(t),n=i.length,o=new ArrayBuffer(n),r=new Uint8Array(o),a=0;n>a;a++)r[a]=i.charCodeAt(a);return o}(t.src))}else if(/^blob\:/i.test(t.src)){(o=new FileReader).onload=function(t){i(t.target.result)},s=t.src,h=function(t){o.readAsArrayBuffer(t)},(l=new XMLHttpRequest).open("GET",s,!0),l.responseType="blob",l.onload=function(t){(200==this.status||0===this.status)&&h(this.response)},l.send()}else{var n=new XMLHttpRequest;n.onload=function(){200==this.status||0===this.status?i(n.response):e(new Error("Could not load image")),n=null},n.open("GET",t.src,!0),n.responseType="arraybuffer",n.send(null)}else if(window.FileReader&&(t instanceof window.Blob||t instanceof window.File)){var o;(o=new FileReader).onload=function(t){c&&console.log("Got file of length "+t.target.result.byteLength),i(t.target.result)},o.readAsArrayBuffer(t)}var s,h,l}function r(t){var e=new DataView(t);if(c&&console.log("Got file of length "+t.byteLength),255!=e.getUint8(0)||216!=e.getUint8(1))return c&&console.log("Not a valid JPEG"),!1;for(var i,n=2,o=t.byteLength;o>n;){if(255!=e.getUint8(n))return c&&console.log("Not a valid marker at offset "+n+", found: "+e.getUint8(n)),!1;if(i=e.getUint8(n+1),c&&console.log(i),225==i)return c&&console.log("Found 0xFFE1 marker"),d(e,n+4,e.getUint16(n+2));n+=2+e.getUint16(n+2)}}function a(t,e,i){for(var n,o,r,a,s=new DataView(t),h={},d=e;e+i>d;)28===s.getUint8(d)&&2===s.getUint8(d+1)&&(a=s.getUint8(d+2),a in y&&(r=s.getInt16(d+3),r+5,o=y[a],n=l(s,d+5,r),h.hasOwnProperty(o)?h[o]instanceof Array?h[o].push(n):h[o]=[h[o],n]:h[o]=n)),d++;return h}function s(t,e,i,n,o){var r,a,s,l=t.getUint16(i,!o),d={};for(s=0;l>s;s++)r=i+12*s+2,a=n[t.getUint16(r,!o)],!a&&c&&console.log("Unknown tag: "+t.getUint16(r,!o)),d[a]=h(t,r,e,i,o);return d}function h(t,e,i,n,o){var r,a,s,h,d,c,u=t.getUint16(e+2,!o),f=t.getUint32(e+4,!o),p=t.getUint32(e+8,!o)+i;switch(u){case 1:case 7:if(1==f)return t.getUint8(e+8,!o);for(r=f>4?p:e+8,a=[],h=0;f>h;h++)a[h]=t.getUint8(r+h);return a;case 2:return l(t,r=f>4?p:e+8,f-1);case 3:if(1==f)return t.getUint16(e+8,!o);for(r=f>2?p:e+8,a=[],h=0;f>h;h++)a[h]=t.getUint16(r+2*h,!o);return a;case 4:if(1==f)return t.getUint32(e+8,!o);for(a=[],h=0;f>h;h++)a[h]=t.getUint32(p+4*h,!o);return a;case 5:if(1==f)return d=t.getUint32(p,!o),c=t.getUint32(p+4,!o),s=new Number(d/c),s.numerator=d,s.denominator=c,s;for(a=[],h=0;f>h;h++)d=t.getUint32(p+8*h,!o),c=t.getUint32(p+4+8*h,!o),a[h]=new Number(d/c),a[h].numerator=d,a[h].denominator=c;return a;case 9:if(1==f)return t.getInt32(e+8,!o);for(a=[],h=0;f>h;h++)a[h]=t.getInt32(p+4*h,!o);return a;case 10:if(1==f)return t.getInt32(p,!o)/t.getInt32(p+4,!o);for(a=[],h=0;f>h;h++)a[h]=t.getInt32(p+8*h,!o)/t.getInt32(p+4+8*h,!o);return a}}function l(t,e,i){var n,o="";for(n=e;e+i>n;n++)o+=String.fromCharCode(t.getUint8(n));return o}function d(t,e){if("Exif"!=l(t,e,4))return c&&console.log("Not valid EXIF data! "+l(t,e,4)),!1;var i,n,o,r,a,h=e+6;if(18761==t.getUint16(h))i=!1;else{if(19789!=t.getUint16(h))return c&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;i=!0}if(42!=t.getUint16(h+2,!i))return c&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var d=t.getUint32(h+4,!i);if(8>d)return c&&console.log("Not valid TIFF data! (First offset less than 8)",t.getUint32(h+4,!i)),!1;if((n=s(t,h,h+d,p,i)).ExifIFDPointer){r=s(t,h,h+n.ExifIFDPointer,f,i);for(o in r){switch(o){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":r[o]=m[o][r[o]];break;case"ExifVersion":case"FlashpixVersion":r[o]=String.fromCharCode(r[o][0],r[o][1],r[o][2],r[o][3]);break;case"ComponentsConfiguration":r[o]=m.Components[r[o][0]]+m.Components[r[o][1]]+m.Components[r[o][2]]+m.Components[r[o][3]]}n[o]=r[o]}}if(n.GPSInfoIFDPointer){a=s(t,h,h+n.GPSInfoIFDPointer,g,i);for(o in a){switch(o){case"GPSVersionID":a[o]=a[o][0]+"."+a[o][1]+"."+a[o][2]+"."+a[o][3]}n[o]=a[o]}}return n}var c=!1,u=function(t){return t instanceof u?t:this instanceof u?void(this.EXIFwrapped=t):new u(t)};void 0!==t&&t.exports&&(e=t.exports=u),e.EXIF=u;var f=u.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},p=u.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},g=u.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},m=u.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},y={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};u.getData=function(t,e){return!((t instanceof Image||t instanceof HTMLImageElement)&&!t.complete)&&(i(t)?e&&e.call(t):o(t,e),!0)},u.getTag=function(t,e){return i(t)?t.exifdata[e]:void 0},u.getAllTags=function(t){if(!i(t))return{};var e,n=t.exifdata,o={};for(e in n)n.hasOwnProperty(e)&&(o[e]=n[e]);return o},u.pretty=function(t){if(!i(t))return"";var e,n=t.exifdata,o="";for(e in n)n.hasOwnProperty(e)&&(o+="object"==typeof n[e]?n[e]instanceof Number?e+" : "+n[e]+" ["+n[e].numerator+"/"+n[e].denominator+"]\r\n":e+" : ["+n[e].length+" values]\r\n":e+" : "+n[e]+"\r\n");return o},u.readFromBinaryFile=function(t){return r(t)},void 0===(n=function(){return u}.apply(e,[]))||(t.exports=n)}).call(this)}])});